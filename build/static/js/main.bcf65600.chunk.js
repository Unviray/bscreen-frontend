(this.webpackJsonpebaiboly=this.webpackJsonpebaiboly||[]).push([[0],{37:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n(18),r=n(21),o=n(20),s=n(0),i=n.n(s),l=n(19),j=n(15),b=n.n(j),u=(n(37),n(23)),d=n(6),h=(n(53),n(54),n(55),n(78)),p=n(75),O=n(80),f=n(40),m=n.n(f),x=n(41),v=n.n(x),g=n(30),y=n(36),k=["http://127.0.0.1:8000","http://192.168.43.1:8000","http://192.168.43.240:8000"];function N(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=new XMLHttpRequest;r.open("GET","".concat(k[a]).concat(e),!0),r.onload=function(){try{var e=c(JSON.parse(r.responseText));t.setState((function(){return e}))}catch(n){console.error(n)}},n&&(r.onerror=function(){k.length>a&&N(e,t,n,c,a+1)}),r.send()}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=new XMLHttpRequest;c.open("GET","".concat(k[n]).concat(e),!0),c.onload=function(){t(JSON.parse(c.responseText))},c.onerror=function(){k.length>n&&S(e,t,n+1)},c.send()}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST",a=new XMLHttpRequest;a.open(c,"".concat(k[n]).concat(e),!0),a.setRequestHeader("Content-Type","application/json"),a.onerror=function(){k.length>n&&w(e,t,n+1,c)},a.send(JSON.stringify(t))}var C=Object(y.b)({name:"pointer",initialState:{value:[],toScreen:void 0},reducers:{add:function(e,t){var n,c=e.value,a=!1,r=Object(g.a)(e.value);try{for(r.s();!(n=r.n()).done;){var o=n.value;parseInt(t.payload.verset)===o.verset&&parseInt(t.payload.chapter)===o.chapter&&t.payload.book===o.book&&(a=!0)}}catch(s){r.e(s)}finally{r.f()}a||(c.push({book:t.payload.book,chapter:parseInt(t.payload.chapter),verset:parseInt(t.payload.verset)}),e.value=c)},remove:function(e,t){var n=e.value.filter((function(e){return!(e.book===t.payload.book&&e.chapter===t.payload.chapter&&e.verset===t.payload.verset)}));e.value=n},show:function(e,t){e.toScreen=t.payload,w("/screen",t.payload)},hide:function(e){e.toScreen=void 0,w("/clear-screen",{})}}}),E=Object(y.a)({reducer:{pointer:C.reducer}}),T=C.actions,_=T.add,I=T.remove,B=T.show,H=T.hide,J=(C.reducer,n(1)),M=function(){var e=Object(l.b)();return Object(J.jsxs)(d.c,{children:[Object(J.jsx)(d.a,{path:"/ecran"}),Object(J.jsx)(d.a,{path:"/",children:Object(J.jsx)(h.a,{variant:"light",className:"bg-light mb-3",children:Object(J.jsxs)(p.a,{children:[Object(J.jsx)(u.b,{to:"/",className:"text-decoration-none",children:Object(J.jsx)(h.a.Brand,{className:"fw-bold",children:"BScreen"})}),Object(J.jsxs)("div",{className:"d-flex",children:[Object(J.jsx)(O.a,{variant:"light",onClick:function(){e(H())},children:Object(J.jsx)(m.a,{})}),Object(J.jsx)(u.b,{to:"/ecran",className:"btn btn-light",target:"_blank",children:Object(J.jsx)(v.a,{})})]})]})})})]})},R=n(13),q=n(12),z=n.n(q),F=n(79),L=n(76),D=n(77),X=n(42),G=n.n(X),P=n(43),A=n.n(P),K=function(e){var t=Object(l.b)(),n=i.a.useState(Object(J.jsx)(z.a,{})),c=Object(R.a)(n,2),a=c[0],r=c[1],o=i.a.useState(Object(J.jsx)(z.a,{})),j=Object(R.a)(o,2),b=j[0],u=j[1];return Object(s.useEffect)((function(){S("/meta/".concat(e.pointer.book),(function(e){r(e.name)})),S("/verset/".concat(e.pointer.book,"/").concat(e.pointer.chapter,"/").concat(e.pointer.verset),(function(e){u(e)}))}),[e.pointer.book,e.pointer.chapter,e.pointer.verset]),Object(J.jsxs)(F.a,{className:"mb-2 bg-light border-0",children:[Object(J.jsx)(F.a.Header,{className:"border-0 p-0 d-flex justify-content-end",children:Object(J.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(J.jsx)(O.a,{variant:"light",className:"fw-bold btn-sm",onClick:function(){t(I(e.pointer))},children:Object(J.jsx)(G.a,{})}),Object(J.jsx)(O.a,{variant:"light",className:"fw-bold btn-sm",onClick:function(){t(B(e.pointer))},children:Object(J.jsx)(A.a,{})})]})}),Object(J.jsxs)(F.a.Body,{children:[Object(J.jsxs)(F.a.Title,{className:"fw-bold",children:[a," ",e.pointer.chapter,":",e.pointer.verset]}),Object(J.jsx)(F.a.Text,{children:b})]})]})},Q=function(e){var t,n=Object(l.c)((function(e){return e.pointer.value})),c=[],a=0,r=Object(g.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;c.push(Object(J.jsx)(K,{pointer:o},a)),a++}}catch(s){r.e(s)}finally{r.f()}return Object(J.jsx)(p.a,{children:Object(J.jsxs)(L.a,{children:[Object(J.jsx)(D.a,{lg:9,children:e.children}),Object(J.jsx)(D.a,{lg:3,children:Object(J.jsx)("div",{className:"sticky-top py-3",children:c})})]})})};function U(e){var t=Object(d.f)();return Object(J.jsx)(O.a,{variant:"light",className:"book-button rounded-0 flex-fill fw-bold",onClick:function(){t.push("/".concat(e.children.slugify()))},children:e.children})}var V=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(c.a)(this,n),a=t.call(this,e);for(var r=[],o=0;o<=66;o++)r.push(Object(J.jsx)(D.a,{lg:4,xl:3,className:"d-flex",children:Object(J.jsx)(z.a,{height:36},o)},o));return a.state={book_list:r},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){N("/testament/".concat(this.props.n),this,!0,(function(e){var t=[];return e.forEach((function(e,n){t.push(Object(J.jsx)(D.a,{lg:4,xl:3,className:"d-flex",children:Object(J.jsx)(U,{children:e})},n))})),{book_list:t}}))}},{key:"render",value:function(){return this.state.book_list}}]),n}(i.a.Component),W=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(L.a,{className:"mb-3 g-1",children:Object(J.jsx)(V,{n:1})}),Object(J.jsx)(L.a,{className:"mb-3 g-1",children:Object(J.jsx)(V,{n:2})})]})}}]),n}(s.Component);function Y(e){var t=Object(d.g)(),n=Object(d.f)();return Object(J.jsx)(O.a,{variant:"light",style:{width:"48px",height:"48px"},className:"book-button rounded-0 fw-bold me-1 mb-1 px-0",onClick:function(){n.push("".concat(t.url,"/").concat(e.children))},children:e.children})}var Z=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={name:Object(J.jsx)(z.a,{}),chap_list:Object(J.jsx)(z.a,{})},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){N("/meta/".concat(this.props.match.params.book),this,!0,(function(e){for(var t=[],n=1;n<=e.chapter_number;n++)t.push(Object(J.jsx)(Y,{children:n},n));return{name:e.name,chap_list:t}}))}},{key:"render",value:function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("h1",{children:this.state.name}),Object(J.jsx)("div",{children:this.state.chap_list})]})}}]),n}(s.Component),$=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(J.jsxs)("p",{id:this.props.id,onClick:this.props.onClick,children:[Object(J.jsx)("span",{className:"fw-bold",children:this.props.id})," ",this.props.children]})}}]),n}(s.Component),ee=function(e){var t=Object(l.b)(),n=i.a.useState(Object(J.jsx)(z.a,{})),c=Object(R.a)(n,2),a=c[0],r=c[1],o=i.a.useState(Object(J.jsx)(z.a,{})),j=Object(R.a)(o,2),b=j[0],u=j[1],d=e.match.params.book,h=e.match.params.chapter;return Object(s.useEffect)((function(){var e=function(e){t(_({book:d,chapter:h,verset:e.target.id}))};S("/meta/".concat(d),(function(e){r(e.name)})),S("/verset/".concat(d,"/").concat(h),(function(t){var n=[];for(var c in t){var a=t[c];n.push(Object(J.jsx)($,{id:c,onClick:e,children:a},c))}u(n)}))}),[d,h,t]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("h1",{children:[a," ",Object(J.jsx)("span",{className:"text-black-50",children:h})]}),Object(J.jsx)("div",{children:b})]})},te=(n(60),n.p+"static/media/background.f729b59d.png"),ne=function(e){var t=Object(s.useState)(),n=Object(R.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(""),o=Object(R.a)(r,2),i=o[0],l=o[1],j=Object(s.useState)(""),b=Object(R.a)(j,2),u=b[0],d=b[1],h=Object(s.useState)(!1),O=Object(R.a)(h,2),f=O[0],m=O[1],x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.length>=400?{primary:"0.75em",secondary:"0.6em"}:e.length>=200?{primary:"0.9em",secondary:"0.75em"}:{primary:"1.05em",secondary:"0.9em"}:e.length>=400?{primary:"2.5em",secondary:"2em"}:e.length>=200?{primary:"3em",secondary:"2.5em"}:{primary:"3.5em",secondary:"3em"}};return Object(s.useEffect)((function(){c?(S("/verset/".concat(c.book,"/").concat(c.chapter,"/").concat(c.verset),(function(e){l(e),m(!0)})),S("/meta/".concat(c.book),(function(e){d("\u2014".concat(e.name," ").concat(c.chapter,":").concat(c.verset))}))):m(!1)}),[c]),Object(s.useEffect)((function(){setInterval((function(){S("/screen",(function(e){a(e)}))}),1e3)}),[]),Object(J.jsx)("div",{id:"screen",children:Object(J.jsx)("div",{style:{backgroundImage:"url(".concat(te,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:f?"content d-flex":"content d-flex hide",children:Object(J.jsxs)("div",{className:"d-flex flex-column m-auto",children:[Object(J.jsx)(p.a,{style:{fontSize:x(i).primary},className:"text-center",children:i}),Object(J.jsx)(p.a,{style:{fontSize:x(i).secondary},className:"d-flex",children:Object(J.jsx)("span",{className:"ms-auto",children:u})})]})})})};String.prototype.slugify=function(){return this.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")};var ce=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(J.jsx)(l.a,{store:E,children:Object(J.jsxs)(u.a,{children:[Object(J.jsx)(M,{}),Object(J.jsxs)(d.c,{children:[Object(J.jsx)(d.a,{path:"/ecran",component:ne}),Object(J.jsx)(d.a,{path:"/",children:Object(J.jsx)(Q,{children:Object(J.jsxs)(d.c,{children:[Object(J.jsx)(d.a,{path:"/:book/:chapter/",component:ee}),Object(J.jsx)(d.a,{path:"/:book/",component:Z}),Object(J.jsx)(d.a,{path:"/",component:W})]})})})]})]})})}}]),n}(i.a.Component);b.a.render(Object(J.jsx)(ce,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.bcf65600.chunk.js.map