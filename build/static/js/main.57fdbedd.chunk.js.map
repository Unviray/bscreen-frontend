{"version":3,"sources":["utils.js","global_state.js","components/navbar.js","components/resp_container.js","pages/home.js","pages/book.js","pages/chapter.js","static/img/background.png","pages/screen.js","index.js"],"names":["url","ajaxState","link","cls","errorSafe","callback","url_n","request","XMLHttpRequest","open","onload","callResult","JSON","parse","responseText","setState","error","console","onerror","length","send","ajax","ajaxMethod","data","method","setRequestHeader","stringify","pointerSlice","createSlice","name","initialState","value","toScreen","undefined","reducers","add","state","action","newPointers","existing","pointer","parseInt","payload","verset","chapter","book","push","remove","newValue","filter","show","hide","configureStore","reducer","actions","MyNavbar","dispatch","useDispatch","path","Navbar","variant","className","Container","to","Brand","Button","onClick","target","VersetCard","props","React","useState","setBook","text","setText","useEffect","p","Card","Header","role","aria-label","Body","Title","Text","RespContainer","pointers","useSelector","versetCardList","i","Row","Col","lg","children","BookButton","history","useHistory","slugify","Part","book_list","index","xl","height","this","n","forEach","element","Component","Home","ChapButton","match","useRouteMatch","style","width","Book","chap_list","params","chapter_number","Verset","id","Chapter","setName","verset_list","setVerset_list","handleClick","event","verset_id","Screen","setPointer","spell","setSpell","setShow","fontSize","mini","primary","secondary","setInterval","backgroundImage","background","backgroundPosition","backgroundRepeat","backgroundSize","String","prototype","toString","normalize","replace","toLowerCase","trim","Main","store","component","ReactDOM","render","document","getElementById"],"mappings":"uZAAMA,EAAM,CACV,wBACA,2BACA,8BAIK,SAASC,EAAUC,EAAMC,GAA6C,IAAxCC,IAAuC,yDAArBC,EAAqB,uCAAXC,EAAW,uDAAH,EACnEC,EAAU,IAAIC,eAClBD,EAAQE,KAAK,MAAb,UAAuBT,EAAIM,IAA3B,OAAoCJ,IAAQ,GAE5CK,EAAQG,OAAS,WACf,IACE,IAAIC,EAAaN,EAASO,KAAKC,MAAMN,EAAQO,eAC7CX,EAAIY,UAAS,kBAAMJ,KACnB,MAAOK,GACPC,QAAQD,MAAMA,KAIdZ,IACFG,EAAQW,QAAU,WACZlB,EAAImB,OAASb,GACfL,EAAUC,EAAMC,EAAKC,EAAWC,EAAUC,EAAQ,KAKxDC,EAAQa,OAIH,SAASC,EAAKnB,EAAMG,GAAsB,IAAZC,EAAW,uDAAH,EACvCC,EAAU,IAAIC,eAClBD,EAAQE,KAAK,MAAb,UAAuBT,EAAIM,IAA3B,OAAoCJ,IAAQ,GAE5CK,EAAQG,OAAS,WACfL,EAASO,KAAKC,MAAMN,EAAQO,gBAG9BP,EAAQW,QAAU,WACZlB,EAAImB,OAASb,GACfe,EAAKnB,EAAMG,EAAUC,EAAQ,IAIjCC,EAAQa,OAIH,SAASE,EAAWpB,EAAMqB,GAAiC,IAA3BjB,EAA0B,uDAAlB,EAAGkB,EAAe,uDAAR,OACnDjB,EAAU,IAAIC,eAElBD,EAAQE,KAAKe,EAAb,UAAwBxB,EAAIM,IAA5B,OAAqCJ,IAAQ,GAC7CK,EAAQkB,iBAAiB,eAAgB,oBAEzClB,EAAQW,QAAU,WACZlB,EAAImB,OAASb,GACfgB,EAAWpB,EAAMqB,EAAMjB,EAAQ,EAAGkB,IAItCjB,EAAQa,KAAKR,KAAKc,UAAUH,IC1DvB,IAAMI,EAAeC,YAAY,CACtCC,KAAM,UACNC,aAAc,CACZC,MAAO,GACPC,cAAUC,GAEZC,SAAU,CACRC,IAAK,SAACC,EAAOC,GACX,IADsB,EAClBC,EAAcF,EAAML,MACpBQ,GAAW,EAFO,cAIFH,EAAML,OAJJ,IAItB,2BAAiC,CAAC,IAAzBS,EAAwB,QAC1BC,SAASJ,EAAOK,QAAQC,UAAYH,EAAQG,QAC5CF,SAASJ,EAAOK,QAAQE,WAAaJ,EAAQI,SAC7CP,EAAOK,QAAQG,OAASL,EAAQK,OAC/BN,GAAW,IARG,8BAYjBA,IACHD,EAAYQ,KAAK,CACfD,KAAMR,EAAOK,QAAQG,KACrBD,QAASH,SAASJ,EAAOK,QAAQE,SACjCD,OAAQF,SAASJ,EAAOK,QAAQC,UAElCP,EAAML,MAAQO,IAGlBS,OAAQ,SAACX,EAAOC,GACd,IAAMW,EAAWZ,EAAML,MAAMkB,QAAO,SAAClB,GACnC,QACIA,EAAMc,OAAUR,EAAOK,QAAQG,MAC/Bd,EAAMa,UAAaP,EAAOK,QAAQE,SAClCb,EAAMY,SAAYN,EAAOK,QAAQC,WAGvCP,EAAML,MAAQiB,GAEhBE,KAAM,SAACd,EAAOC,GACZD,EAAMJ,SAAWK,EAAOK,QACxBpB,EAAW,UAAWe,EAAOK,UAE/BS,KAAM,SAACf,GACLA,EAAMJ,cAAWC,EACjBX,EAAW,gBAAiB,QAMnB8B,cAAe,CAC5BC,QAAS,CACPb,QAASb,EAAa0B,W,EAKiB1B,EAAa2B,QAAzCnB,E,EAAAA,IAAKY,E,EAAAA,OAAQG,E,EAAAA,KAAMC,E,EAAAA,K,GAECxB,EAAa0B,Q,MCxBjCE,EA5BE,WACf,IAAMC,EAAWC,cACjB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,WAEZ,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAACC,EAAA,EAAD,CAAQC,QAAQ,QAAQC,UAAU,gBAAlC,SACE,eAACC,EAAA,EAAD,WACE,cAAC,IAAD,CAAMC,GAAG,IAAIF,UAAU,uBAAvB,SACE,cAACF,EAAA,EAAOK,MAAR,CAAcH,UAAU,UAAxB,yBAEF,sBAAKA,UAAU,SAAf,UACE,cAACI,EAAA,EAAD,CAAQL,QAAQ,QAAQM,QAAS,WAAQV,EAASL,MAAlD,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAMY,GAAG,SAASF,UAAU,gBAAgBM,OAAO,SAAnD,SACE,cAAC,IAAD,oB,mFCjBVC,EAAa,SAACC,GAClB,IAAMb,EAAWC,cADW,EAEJa,IAAMC,SAAS,cAAC,IAAD,KAFX,mBAErB1B,EAFqB,KAEf2B,EAFe,OAGJF,IAAMC,SAAS,cAAC,IAAD,KAHX,mBAGrBE,EAHqB,KAGfC,EAHe,KAe5B,OAVAC,qBAAU,WACRtD,EAAK,SAAD,OAAUgD,EAAM7B,QAAQK,OAAQ,SAAC+B,GACnCJ,EAAQI,EAAE/C,SAGZR,EAAK,WAAD,OAAYgD,EAAM7B,QAAQK,KAA1B,YAAkCwB,EAAM7B,QAAQI,QAAhD,YAA2DyB,EAAM7B,QAAQG,SAAU,SAACiC,GACtFF,EAAQE,QAET,CAACP,EAAM7B,QAAQK,KAAMwB,EAAM7B,QAAQI,QAASyB,EAAM7B,QAAQG,SAG3D,eAACkC,EAAA,EAAD,CAAMhB,UAAU,yBAAhB,UACE,cAACgB,EAAA,EAAKC,OAAN,CAAajB,UAAU,0CAAvB,SACE,sBAAKA,UAAU,YAAYkB,KAAK,QAAQC,aAAW,gBAAnD,UACE,cAACf,EAAA,EAAD,CACEL,QAAQ,QACRC,UAAU,iBACVK,QAAS,WAAQV,EAAST,EAAOsB,EAAM7B,WAHzC,SAIE,cAAC,IAAD,MAEF,cAACyB,EAAA,EAAD,CACEL,QAAQ,QACRC,UAAU,iBACVK,QAAS,WAAQV,EAASN,EAAKmB,EAAM7B,WAHvC,SAII,cAAC,IAAD,WAIR,eAACqC,EAAA,EAAKI,KAAN,WACE,eAACJ,EAAA,EAAKK,MAAN,CAAYrB,UAAU,UAAtB,UACGhB,EADH,IACUwB,EAAM7B,QAAQI,QADxB,IACkCyB,EAAM7B,QAAQG,UAEhD,cAACkC,EAAA,EAAKM,KAAN,UACGV,WAmCIW,EA3BO,SAACf,GACrB,IAD+B,EACzBgB,EAAWC,aAAY,SAAClD,GAAD,OAAWA,EAAMI,QAAQT,SAChDwD,EAAiB,GAEnBC,EAAI,EAJuB,cAKXH,GALW,IAK/B,2BAA8B,CAAC,IAAtB7C,EAAqB,QAC5B+C,EAAezC,KAAK,cAAC,EAAD,CAAoBN,QAASA,GAAZgD,IACrCA,KAP6B,8BAU/B,OACE,cAAC1B,EAAA,EAAD,UACE,eAAC2B,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKC,GAAI,EAAT,SACGtB,EAAMuB,WAET,cAACF,EAAA,EAAD,CAAKC,GAAI,EAAT,SACE,qBAAK9B,UAAU,kBAAf,SACG0B,YCpEb,SAASM,EAAWxB,GAClB,IAAMyB,EAAUC,cAKhB,OACE,cAAC9B,EAAA,EAAD,CAAQL,QAAQ,QAAQC,UAAU,0CAA0CK,QAL9E,WACE4B,EAAQhD,KAAR,WAAiBuB,EAAMuB,SAASI,aAIhC,SACG3B,EAAMuB,W,IAMPK,E,kDACJ,WAAY5B,GAAQ,IAAD,sBACjB,cAAMA,GAIN,IAFA,IAAI6B,EAAY,GAEPC,EAAQ,EAAGA,GAAS,GAAIA,IAC/BD,EAAUpD,KACR,cAAC4C,EAAA,EAAD,CAAiBC,GAAI,EAAGS,GAAI,EAAGvC,UAAU,SAAzC,SACE,cAAC,IAAD,CAAsBwC,OAAQ,IAAfF,IADPA,IAPG,OAajB,EAAK/D,MAAQ,CACX8D,UAAWA,GAdI,E,qDAkBnB,WACEjG,EAAU,cAAD,OAAeqG,KAAKjC,MAAMkC,GAAKD,MAAM,GAAM,SAAC1B,GACnD,IAAIsB,EAAY,GAShB,OARAtB,EAAE4B,SAAQ,SAACC,EAASN,GAClBD,EAAUpD,KACR,cAAC4C,EAAA,EAAD,CAAiBC,GAAI,EAAGS,GAAI,EAAGvC,UAAU,SAAzC,SACE,cAACgC,EAAD,UAAaY,KADLN,OAMP,CAAED,UAAWA,Q,oBAIxB,WACE,OAAOI,KAAKlE,MAAM8D,c,GAnCH5B,IAAMoC,WAwCJC,E,4JACnB,WACE,OACE,qCACE,cAAClB,EAAA,EAAD,CAAK5B,UAAU,WAAf,SACE,cAAC,EAAD,CAAM0C,EAAG,MAEX,cAACd,EAAA,EAAD,CAAK5B,UAAU,WAAf,SACE,cAAC,EAAD,CAAM0C,EAAG,a,GAReG,aCtDlC,SAASE,EAAWvC,GAClB,IAAIwC,EAAQC,cACNhB,EAAUC,cAWhB,OACE,cAAC9B,EAAA,EAAD,CAAQL,QAAQ,QAAQmD,MANZ,CACZC,MAAO,OACPX,OAAQ,QAI8BxC,UAAU,+CAA+CK,QAVjG,WACE4B,EAAQhD,KAAR,UAAgB+D,EAAM7G,IAAtB,YAA6BqE,EAAMuB,YASnC,SACGvB,EAAMuB,W,IAMQqB,E,kDACnB,WAAY5C,GAAQ,IAAD,8BACjB,cAAMA,IAEDjC,MAAQ,CACXP,KAAM,cAAC,IAAD,IACNqF,UAAW,cAAC,IAAD,KALI,E,qDASnB,WACEjH,EAAU,SAAD,OAAUqG,KAAKjC,MAAMwC,MAAMM,OAAOtE,MAAQyD,MAAM,GAAM,SAAC1B,GAE9D,IADA,IAAIsC,EAAY,GACP1B,EAAI,EAAGA,GAAKZ,EAAEwC,eAAgB5B,IACrC0B,EAAUpE,KACR,cAAC8D,EAAD,UAAqBpB,GAAJA,IAIrB,MAAO,CACL3D,KAAM+C,EAAE/C,KACRqF,UAAWA,Q,oBAKjB,WACE,OACE,qCACE,6BAAKZ,KAAKlE,MAAMP,OAChB,8BAAMyE,KAAKlE,MAAM8E,mB,GA9BSR,aCpB5BW,E,4JACJ,WACE,OACE,oBAAGC,GAAIhB,KAAKjC,MAAMiD,GAAIpD,QAASoC,KAAKjC,MAAMH,QAA1C,UACE,sBAAML,UAAU,UAAhB,SAA2ByC,KAAKjC,MAAMiD,KADxC,IACoDhB,KAAKjC,MAAMuB,gB,GAJhDc,aA2DNa,GAhDC,SAAClD,GAEf,IAAMb,EAAWC,cAFQ,EAGDa,IAAMC,SAAS,cAAC,IAAD,KAHd,mBAGlB1C,EAHkB,KAGZ2F,EAHY,OAIalD,IAAMC,SAAS,cAAC,IAAD,KAJ5B,mBAIlBkD,EAJkB,KAILC,EAJK,KAKnB7E,EAAOwB,EAAMwC,MAAMM,OAAOtE,KAC1BD,EAAUyB,EAAMwC,MAAMM,OAAOvE,QA8BnC,OA5BA+B,qBAAU,WACR,IAAMgD,EAAc,SAACC,GACnBpE,EAASrB,EAAI,CACXU,KAAMA,EACND,QAASA,EACTD,OAAQiF,EAAMzD,OAAOmD,OAIzBjG,EAAK,SAAD,OAAUwB,IAAQ,SAAC+B,GACrB4C,EAAQ5C,EAAE/C,SAGZR,EAAK,WAAD,OAAYwB,EAAZ,YAAoBD,IAAW,SAACgC,GAClC,IAAI6C,EAAc,GAElB,IAAK,IAAMI,KAAajD,EAAG,CACzB,IAAM6B,EAAU7B,EAAEiD,GAClBJ,EAAY3E,KACV,cAAC,EAAD,CAAwBwE,GAAIO,EAAW3D,QAASyD,EAAhD,SACGlB,GADUoB,IAKjBH,EAAeD,QAEhB,CAAC5E,EAAMD,EAASY,IAGjB,qCACE,+BACG3B,EADH,IACS,sBAAMgC,UAAU,gBAAhB,SAAiCjB,OAE1C,8BACG6E,QC7DM,I,MAAA,IAA0B,wCCwF1BK,GA9EA,SAACzD,GAAW,IAAD,EACME,qBADN,mBACjB/B,EADiB,KACRuF,EADQ,OAEAxD,mBAAS,IAFT,mBAEjBE,EAFiB,KAEXC,EAFW,OAGEH,mBAAS,IAHX,mBAGjByD,EAHiB,KAGVC,EAHU,OAIA1D,oBAAS,GAJT,mBAIjBrB,EAJiB,KAIXgF,EAJW,KAMlBC,EAAW,SAAC1D,GAAwB,IAAlB2D,EAAiB,wDACvC,OAAKA,EAYC3D,EAAKtD,QAAU,IACV,CAAEkH,QAAS,SAAUC,UAAW,SAEhC7D,EAAKtD,QAAU,IACf,CAAEkH,QAAS,QAASC,UAAW,UAG/B,CAAED,QAAS,SAAUC,UAAW,SAlBrC7D,EAAKtD,QAAU,IACV,CAAEkH,QAAS,QAASC,UAAW,OAE/B7D,EAAKtD,QAAU,IACf,CAAEkH,QAAS,MAAOC,UAAW,SAG7B,CAAED,QAAS,QAASC,UAAW,QAuC5C,OAvBA3D,qBAAU,WACJnC,GACFnB,EAAK,WAAD,OAAYmB,EAAQK,KAApB,YAA4BL,EAAQI,QAApC,YAA+CJ,EAAQG,SAAU,SAACiC,GACpEF,EAAQE,GACRsD,GAAQ,MAEV7G,EAAK,SAAD,OAAUmB,EAAQK,OAAQ,SAAC+B,GAC7BqD,EAAS,SAAD,OAAKrD,EAAE/C,KAAP,YAAeW,EAAQI,QAAvB,YAAkCJ,EAAQG,aAIpDuF,GAAQ,KAET,CAAC1F,IAEJmC,qBAAU,WACR4D,aAAY,WACVlH,EAAK,WAAW,SAACuD,GACfmD,EAAWnD,QAEZ,OACF,IAGD,qBAAK0C,GAAG,SAAR,SACE,qBAAKP,MAAO,CACVyB,gBAAgB,OAAD,OAASC,GAAT,KACfC,mBAAoB,SACpBC,iBAAkB,YAClBC,eAAgB,SAEhB/E,UAAWX,EAAO,iBAAmB,sBANvC,SAOE,sBAAKW,UAAU,4BAAf,UACE,cAACC,EAAA,EAAD,CAAWiD,MAAO,CAChBoB,SAAUA,EAAS1D,GAAM4D,SACxBxE,UAAU,cAFb,SAGGY,IAEH,cAACX,EAAA,EAAD,CAAWiD,MAAO,CAAEoB,SAAUA,EAAS1D,GAAM6D,WAAazE,UAAU,SAApE,SACE,sBAAMA,UAAU,UAAhB,SAA2BmE,cClDvCa,OAAOC,UAAU9C,QAAU,WACzB,OAAOM,KACJyC,WACAC,UAAU,OACVC,QAAQ,mBAAoB,IAC5BC,cACAC,OACAF,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,IACpBA,QAAQ,OAAQ,M,IAIfG,G,4JACJ,WACE,OACE,cAAC,IAAD,CAAUC,MAAOA,EAAjB,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO3F,KAAK,SAAS4F,UAAWxB,KAChC,cAAC,IAAD,CAAOpE,KAAK,IAAZ,SACE,cAAC,EAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOA,KAAK,mBAAmB4F,UAAW/B,KAC1C,cAAC,IAAD,CAAO7D,KAAK,UAAU4F,UAAWrC,IACjC,cAAC,IAAD,CAAOvD,KAAK,IAAI4F,UAAW3C,uB,GAb1BrC,IAAMoC,WA0BzB6C,IAASC,OACP,cAAC,GAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.57fdbedd.chunk.js","sourcesContent":["const url = [\n  \"http://127.0.0.1:8000\",\n  \"http://192.168.43.1:8000\",\n  \"http://192.168.43.240:8000\",\n]\n\n\nexport function ajaxState(link, cls, errorSafe = true, callback, url_n = 0) {\n  var request = new XMLHttpRequest()\n  request.open(\"GET\", `${url[url_n]}${link}`, true)\n\n  request.onload = () => {\n    try {\n      let callResult = callback(JSON.parse(request.responseText))\n      cls.setState(() => callResult)\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  if (errorSafe) {\n    request.onerror = () => {\n      if (url.length > url_n) {\n        ajaxState(link, cls, errorSafe, callback, url_n + 1)\n      }\n    }\n  }\n\n  request.send()\n}\n\n\nexport function ajax(link, callback, url_n = 0) {\n  var request = new XMLHttpRequest()\n  request.open(\"GET\", `${url[url_n]}${link}`, true)\n\n  request.onload = () => {\n    callback(JSON.parse(request.responseText))\n  }\n\n  request.onerror = () => {\n    if (url.length > url_n) {\n      ajax(link, callback, url_n + 1)\n    }\n  }\n\n  request.send()\n}\n\n\nexport function ajaxMethod(link, data, url_n = 0, method=\"POST\") {\n  var request = new XMLHttpRequest()\n\n  request.open(method, `${url[url_n]}${link}`, true)\n  request.setRequestHeader(\"Content-Type\", \"application/json\");\n\n  request.onerror = () => {\n    if (url.length > url_n) {\n      ajaxMethod(link, data, url_n + 1, method)\n    }\n  }\n\n  request.send(JSON.stringify(data))\n}\n","import { configureStore, createSlice } from '@reduxjs/toolkit'\nimport { ajaxMethod } from './utils'\n\n\nexport const pointerSlice = createSlice({\n  name: 'pointer',\n  initialState: {\n    value: [],\n    toScreen: undefined\n  },\n  reducers: {\n    add: (state, action) => {\n      let newPointers = state.value\n      let existing = false\n\n      for (let pointer of state.value) {\n        if ((parseInt(action.payload.verset) === pointer.verset) &&\n            (parseInt(action.payload.chapter) === pointer.chapter) &&\n            (action.payload.book === pointer.book)) {\n              existing = true\n        }\n      }\n\n      if (!existing) {\n        newPointers.push({\n          book: action.payload.book,\n          chapter: parseInt(action.payload.chapter),\n          verset: parseInt(action.payload.verset)\n        })\n        state.value = newPointers\n      }\n    },\n    remove: (state, action) => {\n      const newValue = state.value.filter((value) => {\n        return !(\n          ((value.book) === action.payload.book) &&\n          ((value.chapter) === action.payload.chapter) &&\n          ((value.verset) === action.payload.verset)\n        )\n      })\n      state.value = newValue\n    },\n    show: (state, action) => {\n      state.toScreen = action.payload\n      ajaxMethod(\"/screen\", action.payload)\n    },\n    hide: (state) => {\n      state.toScreen = undefined\n      ajaxMethod(\"/clear-screen\", {})\n    }\n  },\n})\n\n\nexport default configureStore({\n  reducer: {\n    pointer: pointerSlice.reducer\n  },\n})\n\n\nexport const { add, remove, show, hide } = pointerSlice.actions\n\nexport const pointerSliceReducer = pointerSlice.reducer\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { Link, Route, Switch } from 'react-router-dom'\nimport { Button, Container, Navbar } from 'react-bootstrap'\nimport RemoveFromQueueTwoToneIcon from '@material-ui/icons/RemoveFromQueueTwoTone'\nimport DesktopWindowsTwoToneIcon from '@material-ui/icons/DesktopWindowsTwoTone'\n\nimport { hide } from '../global_state'\n\n\n\nconst MyNavbar = () => {\n  const dispatch = useDispatch()\n  return (\n    <Switch>\n      <Route path=\"/ecran\">\n      </Route>\n      <Route path=\"/\">\n        <Navbar variant=\"light\" className=\"bg-light mb-3\">\n          <Container>\n            <Link to=\"/\" className=\"text-decoration-none\">\n              <Navbar.Brand className=\"fw-bold\">NwtScreen</Navbar.Brand>\n            </Link>\n            <div className=\"d-flex\">\n              <Button variant=\"light\" onClick={() => { dispatch(hide()) }}>\n                <RemoveFromQueueTwoToneIcon />\n              </Button>\n              <Link to=\"/ecran\" className=\"btn btn-light\" target=\"_blank\">\n                <DesktopWindowsTwoToneIcon />\n              </Link>\n            </div>\n          </Container>\n        </Navbar>\n      </Route>\n    </Switch>\n  )\n}\n\n\nexport default MyNavbar\n","import Skeleton from '@yisheng90/react-loading'\nimport React, { useEffect } from 'react'\nimport { Col, Container, Row, Card, Button } from 'react-bootstrap'\nimport { useSelector, useDispatch } from 'react-redux'\nimport RemoveCircleTwoToneIcon from '@material-ui/icons/RemoveCircleTwoTone';\nimport AirplayTwoToneIcon from '@material-ui/icons/AirplayTwoTone';\n\nimport { remove, show } from '../global_state'\nimport { ajax } from '../utils'\n\n\nconst VersetCard = (props) => {\n  const dispatch = useDispatch()\n  const [book, setBook] = React.useState(<Skeleton />)\n  const [text, setText] = React.useState(<Skeleton />)\n\n  useEffect(() => {\n    ajax(`/meta/${props.pointer.book}`, (p) => {\n      setBook(p.name)\n    })\n\n    ajax(`/verset/${props.pointer.book}/${props.pointer.chapter}/${props.pointer.verset}`, (p) => {\n      setText(p)\n    })\n  }, [props.pointer.book, props.pointer.chapter, props.pointer.verset])\n\n  return (\n    <Card className=\"mb-2 bg-light border-0\">\n      <Card.Header className=\"border-0 p-0 d-flex justify-content-end\">\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n          <Button\n            variant=\"light\"\n            className=\"fw-bold btn-sm\"\n            onClick={() => { dispatch(remove(props.pointer)) }}>\n            <RemoveCircleTwoToneIcon />\n          </Button>\n          <Button\n            variant=\"light\"\n            className=\"fw-bold btn-sm\"\n            onClick={() => { dispatch(show(props.pointer)) }}>\n              <AirplayTwoToneIcon />\n          </Button>\n        </div>\n      </Card.Header>\n      <Card.Body>\n        <Card.Title className=\"fw-bold\">\n          {book} {props.pointer.chapter}:{props.pointer.verset}\n        </Card.Title>\n        <Card.Text>\n          {text}\n        </Card.Text>\n      </Card.Body>\n    </Card>\n  )\n}\n\n\nconst RespContainer = (props) => {\n  const pointers = useSelector((state) => state.pointer.value)\n  const versetCardList = []\n\n  let i = 0\n  for (let pointer of pointers) {\n    versetCardList.push(<VersetCard key={i} pointer={pointer} />)\n    i++\n  }\n\n  return (\n    <Container>\n      <Row>\n        <Col lg={9}>\n          {props.children}\n        </Col>\n        <Col lg={3}>\n          <div className=\"sticky-top py-3\">\n            {versetCardList}\n          </div>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\n\nexport default RespContainer\n","import Skeleton from '@yisheng90/react-loading';\nimport React, { Component } from 'react';\nimport { Button, Col, Row } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { ajaxState } from \"../utils\";\n\n\nfunction BookButton(props) {\n  const history = useHistory()\n  function click() {\n    history.push(`/${props.children.slugify()}`)\n  }\n\n  return (\n    <Button variant=\"light\" className=\"book-button rounded-0 flex-fill fw-bold\" onClick={click}>\n      {props.children}\n    </Button>\n  )\n}\n\n\nclass Part extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let book_list = []\n\n    for (let index = 0; index <= 66; index++) {\n      book_list.push(\n        <Col key={index} lg={4} xl={3} className=\"d-flex\">\n          <Skeleton key={index} height={36} />\n        </Col>\n      )\n    }\n\n    this.state = {\n      book_list: book_list\n    }\n  }\n\n  componentDidMount() {\n    ajaxState(`/testament/${this.props.n}`, this, true, (p) => {\n      let book_list = []\n      p.forEach((element, index) => {\n        book_list.push(\n          <Col key={index} lg={4} xl={3} className=\"d-flex\">\n            <BookButton>{element}</BookButton>\n          </Col>\n        )\n      })\n\n      return { book_list: book_list }\n    })\n  }\n\n  render() {\n    return this.state.book_list\n  }\n}\n\n\nexport default class Home extends Component {\n  render() {\n    return (\n      <>\n        <Row className=\"mb-3 g-1\">\n          <Part n={1} />\n        </Row>\n        <Row className=\"mb-3 g-1\">\n          <Part n={2} />\n        </Row>\n      </>\n    )\n  }\n}\n","import Skeleton from '@yisheng90/react-loading';\nimport React, { Component } from 'react'\nimport { Button } from 'react-bootstrap';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { ajaxState } from '../utils';\n\n\nfunction ChapButton(props) {\n  let match = useRouteMatch()\n  const history = useHistory()\n\n  function click() {\n    history.push(`${match.url}/${props.children}`)\n  }\n\n  const style = {\n    width: \"48px\",\n    height: \"48px\"\n  }\n\n  return (\n    <Button variant=\"light\" style={style} className=\"book-button rounded-0 fw-bold me-1 mb-1 px-0\" onClick={click}>\n      {props.children}\n    </Button>\n  )\n}\n\n\nexport default class Book extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      name: <Skeleton />,\n      chap_list: <Skeleton />\n    }\n  }\n\n  componentDidMount() {\n    ajaxState(`/meta/${this.props.match.params.book}`, this, true, (p) => {\n      let chap_list = []\n      for (let i = 1; i <= p.chapter_number; i++) {\n        chap_list.push(\n          <ChapButton key={i}>{i}</ChapButton>\n        )\n      }\n\n      return {\n        name: p.name,\n        chap_list: chap_list\n      }\n    })\n  }\n\n  render() {\n    return (\n      <>\n        <h1>{this.state.name}</h1>\n        <div>{this.state.chap_list}</div>\n      </>\n    )\n  }\n}\n","import Skeleton from '@yisheng90/react-loading'\nimport React, { Component, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { add } from '../global_state'\nimport { ajax } from '../utils'\n\n\nclass Verset extends Component {\n  render() {\n    return (\n      <p id={this.props.id} onClick={this.props.onClick}>\n        <span className=\"fw-bold\">{this.props.id}</span> {this.props.children}\n      </p>\n    )\n  }\n}\n\n\nconst Chapter = (props) => {\n\n  const dispatch = useDispatch()\n  const [name, setName] = React.useState(<Skeleton />)\n  const [verset_list, setVerset_list] = React.useState(<Skeleton />)\n  const book = props.match.params.book\n  const chapter = props.match.params.chapter\n\n  useEffect(() => {\n    const handleClick = (event) => {\n      dispatch(add({\n        book: book,\n        chapter: chapter,\n        verset: event.target.id,\n      }))\n    }\n\n    ajax(`/meta/${book}`, (p) => {\n      setName(p.name)\n    })\n\n    ajax(`/verset/${book}/${chapter}`, (p) => {\n      let verset_list = []\n\n      for (const verset_id in p) {\n        const element = p[verset_id]\n        verset_list.push(\n          <Verset key={verset_id} id={verset_id} onClick={handleClick}>\n            {element}\n          </Verset>\n        )\n      }\n      setVerset_list(verset_list)\n    })\n  }, [book, chapter, dispatch])\n\n  return (\n    <>\n      <h1>\n        {name} <span className=\"text-black-50\">{chapter}</span>\n      </h1>\n      <div>\n        {verset_list}\n      </div>\n    </>\n  )\n}\n\nexport default Chapter\n","export default __webpack_public_path__ + \"static/media/background.f729b59d.png\";","import { useEffect, useState } from \"react\"\n\nimport { Container } from \"react-bootstrap\"\n\nimport \"../static/css/screen.css\"\nimport background from \"../static/img/background.png\"\n\nimport { ajax } from \"../utils\"\n\n\nconst Screen = (props) => {\n  const [pointer, setPointer] = useState()\n  const [text, setText] = useState(\"\")\n  const [spell, setSpell] = useState(\"\")\n  const [show, setShow] = useState(false)\n\n  const fontSize = (text, mini = false) => {\n    if (!mini) {\n      if (text.length >= 400) {\n        return { primary: \"2.5em\", secondary: \"2em\" }\n      }\n      else if (text.length >= 200) {\n        return { primary: \"3em\", secondary: \"2.5em\" }\n      }\n      else {\n        return { primary: \"3.5em\", secondary: \"3em\" }\n      }\n    }\n    else {\n      if (text.length >= 400) {\n        return { primary: \"0.75em\", secondary: \"0.6em\" }\n      }\n      else if (text.length >= 200) {\n        return { primary: \"0.9em\", secondary: \"0.75em\" }\n      }\n      else {\n        return { primary: \"1.05em\", secondary: \"0.9em\" }\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (pointer) {\n      ajax(`/verset/${pointer.book}/${pointer.chapter}/${pointer.verset}`, (p) => {\n        setText(p)\n        setShow(true)\n      })\n      ajax(`/meta/${pointer.book}`, (p) => {\n        setSpell(`—${p.name} ${pointer.chapter}:${pointer.verset}`)\n      })\n    }\n    else {\n      setShow(false)\n    }\n  }, [pointer])\n\n  useEffect(() => {\n    setInterval(() => {\n      ajax(\"/screen\", (p) => {\n        setPointer(p)\n      })\n    }, 1000)\n  }, [])\n\n  return (\n    <div id=\"screen\">\n      <div style={{\n        backgroundImage: `url(${background})`,\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\"\n      }}\n        className={show ? 'content d-flex' : 'content d-flex hide'}>\n        <div className=\"d-flex flex-column m-auto\">\n          <Container style={{\n            fontSize: fontSize(text).primary,\n          }} className=\"text-center\">\n            {text}\n          </Container>\n          <Container style={{ fontSize: fontSize(text).secondary }} className=\"d-flex\">\n            <span className=\"ms-auto\">{spell}</span>\n          </Container>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Screen\n","import React from \"react\"\nimport { Provider } from 'react-redux'\nimport ReactDOM from \"react-dom\"\n\nimport \"./static/css/material-icons.css\"\n\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n} from \"react-router-dom\"\n\nimport \"./static/css/bootstrap.min.css\"\nimport \"./static/css/material-icons.css\"\nimport \"./static/css/style.css\"\nimport \"./static/css/all.min.css\"\n\nimport Navbar from \"./components/navbar\"\nimport RespContainer from \"./components/resp_container\"\n\nimport store from \"./global_state\"\n\nimport Home from \"./pages/home\"\nimport Book from \"./pages/book\"\nimport Chapter from \"./pages/chapter\"\nimport Screen from \"./pages/screen\"\n\n\n\n// eslint-disable-next-line\nString.prototype.slugify = function () {\n  return this\n    .toString()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, \"-\")\n    .replace(/[^\\w-]+/g, \"\")\n    .replace(/--+/g, \"-\")\n}\n\n\nclass Main extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <Navbar />\n          <Switch>\n            <Route path=\"/ecran\" component={Screen} />\n            <Route path=\"/\">\n              <RespContainer>\n                <Switch>\n                  <Route path=\"/:book/:chapter/\" component={Chapter} />\n                  <Route path=\"/:book/\" component={Book} />\n                  <Route path=\"/\" component={Home} />\n                </Switch>\n              </RespContainer>\n            </Route>\n          </Switch>\n        </Router>\n      </Provider>\n    )\n  }\n}\n\n// ========================================\n\nReactDOM.render(\n  <Main />,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}